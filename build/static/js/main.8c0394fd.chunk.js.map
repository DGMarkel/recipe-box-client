{"version":3,"sources":["modules/Auth.js","actions/RecipeActions.js","modules/Helpers.js","components/RecipeComponents/BriefRecipeCard.jsx","containers/Recipes.jsx","components/Tables/IngredientsTable.jsx","components/RecipeComponents/RecipePreview.jsx","components/RecipeComponents/NewRecipeForm.jsx","containers/NewRecipe.jsx","components/Tables/NutritionalTable.jsx","components/RecipeComponents/RecipeDetails.jsx","components/RecipeComponents/EditRecipeDetails.jsx","components/Tables/EditIngredients.jsx","components/IngredientComponents/AddIngredientsForm.jsx","containers/Recipe.jsx","components/Misc/GenericNotFound.jsx","routes.js","actions/UserActions.js","components/UserForms/LoginForm.jsx","components/UserForms/SignUpForm.jsx","components/Misc/Welcome.jsx","App.js","index.js","modules/LocalStorage.js","reducers/PrelimReducer.js"],"names":["Auth","token","localStorage","setItem","getItem","removeItem","loadRecipes","dispatch","fetch","then","res","json","resJSON","type","payload","catch","err","console","log","handleOnChangeForIngredients","e","ingredientIndex","recipeID","name","target","value","handleOnChangeForRecipeDetails","event","preventDefault","updateRecipeDetails","recipe","method","body","JSON","stringify","id","title","description","image_url","servings","headers","Content-Type","getToken","authorization","concat","updateIngredient","foodName","ingredient","serving_unit","ingredientString","serving_qty","query","x-app-id","process","x-app-key","updatedIngredient","food_name","foods","calories","nf_calories","total_fat","nf_total_fat","saturated_fat","nf_saturated_fat","cholesterol","nf_cholesterol","sodium","nf_sodium","total_carbohydrate","nf_total_carbohydrate","dietary_fiber","nf_dietary_fiber","sugars","nf_sugars","protein","nf_protein","potassium","nf_potassium","ingredient_data","fetchAndPostIngredients","rawIngredients","ingredientsList","map","ingredients","deleteIngredient","recipeId","saveRecipe","sumNutritionalDataFor","dataPoint","Math","round","i","reduce","a","b","BriefRecipeCard","shortDescription","substr","min","length","lastIndexOf","calsPerServing","react_default","createElement","displayImage","_this","props","className","Link","to","pathname","this","toLowerCase","replace","state","style","background","backgroundSize","Component","withRouter","Recipes","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","recipeDisplay","search_term","recipes","filter","find","includes","RecipeComponents_BriefRecipeCard","key","_this2","onSubmit","searchAllRecipes","placeholder","onChange","setState","objectSpread","Fragment","connect","ownProps","username","user","creator_name","bindActionCreators","actions","IngredientsTable","index","floor","RecipePreview","newRecipe","IngredientsTable_IngredientsTable","onClick","NewRecipeForm","fetchIngredients","cols","handleOnChange","rows","ingredients_to_fetch","NewRecipe","defineProperty","errors","message","ingredientList","RecipeComponents_NewRecipeForm","RecipePreview_RecipePreview","NutritionalTable","dataPoints","keys","slice","nutritionalTotals","servingTotals","data","formatDataPoint","s","toUpperCase","textAlign","width","serving","RecipeDetails","editDetailsToggler","src","EditRecipeDetails","AddIngredientsForm","addIngredientsToggler","Recipe","tableToggler","tableType","ingredientsTableToggled","nutritionalTableToggled","servingTableToggled","editIngredientsToggled","editRecipeDetails","addIngredientsToggled","renderTable","Tables_NutritionalTable","EditIngredients_IngredientsTable","AddIngredientsForm_AddIngredientsForm","EditRecipeDetails_EditRecipeDetails","RecipeDetails_RecipeDetails","location","split","join","GenericNotFound","alt","routes","Switch","Route","exact","path","render","containers_Recipes","component","isUserAuthenticated","Redirect","containers_NewRecipe","containers_Recipe","GenericNotFound_GenericNotFound","fetchUserData","LoginForm","handleChange","handleLoginSubmit","authenticateToken","history","push","password","SignupForm","handleSignUpSubmit","email","Welcome","App","handleLogout","toggleLogin","deauthenticateToken","toggleSignup","loginToggled","signupToggled","renderForms","UserForms_LoginForm","SignUpForm","renderPrivateNavBar","href","renderPublicNavBar","firstView","Welcome_Welcome","persistedState","serializedState","parse","loadState","store","createStore","arguments","undefined","auth","isLoaded","formatRecipeURL","action","toConsumableArray","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","_unused","saveState","getState","ReactDOM","react_redux_es","BrowserRouter","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.8c0394fd.chunk.js","sourcesContent":["class Auth {\n\n  static authenticateToken(token) {\n    localStorage.setItem('token', token);\n  }\n\n  static isUserAuthenticated() {\n    if (localStorage.getItem('token') !== \"undefined\") {\n      return localStorage.getItem('token') !== null;\n    }\n  }\n\n  static deauthenticateToken() {\n    localStorage.removeItem('token');\n  }\n\n  static getToken() {\n    return localStorage.getItem('token');\n  }\n}\n\nexport default Auth;\n","import Auth from '../modules/Auth'\n\nexport function loadRecipes() {\n  return (dispatch) => {\n  fetch('/recipes')\n    .then(res => res.json())\n    .then(resJSON => {\n      dispatch({type:'LOAD_RECIPES', payload: resJSON})\n    })\n    .catch(err => console.log(err))\n  }\n}\n\nexport function handleOnChangeForIngredients(e, ingredientIndex, recipeID) {\n  return (dispatch) => {\n    dispatch({\n      type: 'HANDLE_ONCHANGE_FOR_INGREDIENTS',\n      payload: {\n        name: e.target.name,\n        value: e.target.value,\n        ingredientIndex: ingredientIndex,\n        recipeID: recipeID\n      }\n    })\n  }\n}\n\nexport function handleOnChangeForRecipeDetails(event, recipeID) {\n  event.preventDefault();\n  const name = event.target.name;\n  const value = event.target.value;\n  return (dispatch) => {\n    dispatch({\n      type: 'HANDLE_ONCHANGE_FOR_RECIPE_DETAILS',\n      payload: { name: name, value: value, recipeID: recipeID }\n    })\n  }\n}\n\n// updates recipe title, description, and image_url on backend\nexport function updateRecipeDetails(event, recipe) {\n  event.preventDefault();\n  return (dispatch) => {\n    fetch('/edit-recipe', {\n      method: 'PATCH',\n      body: JSON.stringify({\n        recipe: {\n          id: recipe.id,\n          title: recipe.title,\n          description: recipe.description,\n          image_url: recipe.image_url,\n          servings: recipe.servings\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then(dispatch({type: 'UPDATE_RECIPE_DETAILS', payload: recipe}))\n    .catch(err => console.log(err))\n  }\n}\n\n// fetches new data for edited ingredients from 3rd party API;\n// updates local state with new ingredient data;\n// updates backend ingredients\n\nexport function updateIngredient(event, recipeID, foodName, ingredient, ingredientIndex) {\n  event.preventDefault();\n  if (foodName === ingredient.serving_unit) delete ingredient.serving_unit;\n  const ingredientString = `${ingredient.serving_qty} ${ingredient.serving_unit || ''} ${foodName}`\n\n  return (dispatch) => {\n    fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {\n      method: 'POST',\n      body: JSON.stringify({\n        query: ingredientString\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-app-id': process.env.REACT_APP_NUTRITIONIX_APP_ID,\n        'x-app-key': process.env.REACT_APP_NUTRITIONIX_KEY,\n      }\n      }).then(res => res.json())\n      .then(res => {\n        let updatedIngredient = {\n          food_name: res.foods[0].food_name,\n          serving_qty: res.foods[0].serving_qty,\n          serving_unit: res.foods[0].serving_unit,\n          calories: res.foods[0].nf_calories,\n          total_fat: res.foods[0].nf_total_fat,\n          saturated_fat: res.foods[0].nf_saturated_fat,\n          cholesterol: res.foods[0].nf_cholesterol,\n          sodium: res.foods[0].nf_sodium,\n          total_carbohydrate: res.foods[0].nf_total_carbohydrate,\n          dietary_fiber: res.foods[0].nf_dietary_fiber,\n          sugars: res.foods[0].nf_sugars,\n          protein: res.foods[0].nf_protein,\n          potassium: res.foods[0].nf_potassium,\n        }\n\n        fetch('/edit-ingredient', {\n          method: 'PATCH',\n          body: JSON.stringify({\n            ingredient: {\n              ingredient_data: updatedIngredient,\n              recipeID: recipeID\n            }\n          }),\n          headers: {\n            'Content-Type': 'application/json',\n            token: Auth.getToken(),\n            'authorization':  `Token ${Auth.getToken()}`\n          }\n        })\n\n        dispatch({ type: 'UPDATE_INGREDIENT', payload: {recipeID: recipeID, ingredientIndex: ingredientIndex, updatedIngredient: updatedIngredient}})\n        }).catch(err => console.log(err));\n    }\n  }\n\nexport function fetchAndPostIngredients(event, rawIngredients, recipe) {\n  event.preventDefault()\n  return (dispatch) => {\n    fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {\n    method: 'POST',\n    body: JSON.stringify({\n      query: rawIngredients\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      'x-app-id': process.env.REACT_APP_NUTRITIONIX_APP_ID,\n      'x-app-key': process.env.REACT_APP_NUTRITIONIX_KEY,\n    }\n    }).then(res => res.json())\n    .then(res => {\n      const ingredientsList = res.foods.map( ingredient => {\n        return {\n          food_name: ingredient.food_name,\n          serving_qty: ingredient.serving_qty,\n          serving_unit: ingredient.serving_unit,\n          calories: ingredient.nf_calories,\n          total_fat: ingredient.nf_total_fat,\n          saturated_fat: ingredient.nf_saturated_fat,\n          cholesterol: ingredient.nf_cholesterol,\n          sodium: ingredient.nf_sodium,\n          total_carbohydrate: ingredient.nf_total_carbohydrate,\n          dietary_fiber: ingredient.nf_dietary_fiber,\n          sugars: ingredient.nf_sugars,\n          protein: ingredient.nf_protein,\n          potassium: ingredient.nf_potassium,\n        }\n      })\n\n      fetch('/edit-recipe', {\n        method: 'PATCH',\n        body: JSON.stringify({\n          recipe: {\n            id: recipe.id,\n            title: recipe.title,\n            description: recipe.description,\n            image_url: recipe.image_url,\n            ingredients: ingredientsList\n          }\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          token: Auth.getToken(),\n          'authorization':  `Token ${Auth.getToken()}`\n        }\n      })\n      dispatch({ type:'ADD_NEW_INGREDIENTS_TO_RECIPE', payload: {ingredientsList: ingredientsList, recipeID: recipe.id} })\n    }).catch(err => console.log(err));\n  }\n}\n\nexport function clearNewIngredient() {\n  return (dispatch) => {\n    dispatch({ type: 'CLEAR_NEW_INGREDIENTS' })\n  }\n}\n\nexport function deleteIngredient(e, recipeId, ingredient) {\n  e.preventDefault();\n  return (dispatch) => {\n    fetch('/delete', {\n      method: 'DELETE',\n      body: JSON.stringify({\n        ingredient: {\n          recipeID: recipeId,\n          ingredient_data: ingredient\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then(dispatch({type: 'DELETE_INGREDIENT', payload: {recipeId: recipeId, ingredient: ingredient}}))\n  }\n}\n\nexport function saveRecipe(e, recipe) {\n  e.preventDefault();\n  return (dispatch) => {\n    fetch('/recipes', {\n      method: 'POST',\n      body: JSON.stringify({\n        recipe: {\n          title: recipe.title,\n          description: recipe.description,\n          image_url: recipe.image_url,\n          ingredients: recipe.ingredients,\n          servings: recipe.servings\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then(res => res.json())\n    .then(res => {\n      recipe.id = res.recipe.id\n      dispatch({ type: 'ADD_RECIPE', payload: recipe})\n    })\n    .catch(err => console.log(err))\n  }\n}\n","export const formatRecipeURL = recipe => recipe.toLowerCase().replace(/\\s/g , \"-\" )\n\nexport const sumNutritionalDataFor = (ingredients, dataPoint) => Math.round(ingredients.map(i => i[dataPoint]).reduce((a,b)=>a+b,0))\n","import React, { Component } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { formatRecipeURL, sumNutritionalDataFor } from '../../modules/Helpers'\n\nimport '../Component.css'\n\nclass BriefRecipeCard extends Component {\n\n  // shortens recipe descriptions to fit recipe card\n  shortDescription = description => {\n    const shortDescription = description.substr(0, 80) // creates 80 char substring of description\n    // ensures last character of substring is not a space, adds an ellipsis\n    return shortDescription.substr(0, Math.min(shortDescription.length, shortDescription.lastIndexOf(\" \"))).concat(\"...\")\n  }\n\n  calsPerServing = recipe => {\n    return (recipe.ingredients && recipe.servings > 0) ? Math.round(sumNutritionalDataFor(recipe.ingredients, \"calories\")/recipe.servings) : <p>Unavailable</p>\n  }\n\n  displayImage = () => {\n    return this.props.recipe.image_url ? `url(${this.props.recipe.image_url})` : `url(\"https://wallpaperaccess.com/full/512858.jpg\")`\n  }\n\n  render() {\n    return (\n      <div className=\"recipe-card\">\n        <Link to={{\n          pathname: `recipes/${formatRecipeURL(this.props.recipe.title)}`,\n          state: {recipe: this.props.recipe}\n        }}>\n          <div className=\"recipe-header\">\n            <div className=\"recipe-card-image\" style={{background: this.displayImage(), backgroundSize: '150%'}}>\n              <div className=\"cals-per-serving\">\n                Calories/serving: { this.calsPerServing(this.props.recipe) }\n              </div>\n            </div>\n          </div>\n\n          <div className=\"container\">\n            <h3 className=\"title\">{this.props.recipe.title}</h3>\n            <p className=\"description\">{this.shortDescription(this.props.recipe.description)}</p>\n          </div>\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(BriefRecipeCard)\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators} from 'redux'\nimport * as actions from '../actions/RecipeActions'\n\nimport BriefRecipeCard from '../components/RecipeComponents/BriefRecipeCard'\n\n\nclass Recipes extends Component {\n  constructor() {\n    super()\n    this.state = {\n      search_term: '',\n      // alphabetize: false\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.recipes.length === 0) {\n      this.props.loadRecipes()\n    }\n  }\n\n  recipeDisplay = () => {\n      if (this.state.search_term.length > 0) {\n\n        const recipes = this.props.recipes.filter(recipe=>recipe.ingredients.find(ingredient =>ingredient[\"food_name\"].includes(this.state.search_term)));\n        return recipes.map(recipe=><BriefRecipeCard recipe={recipe} key={recipe.id} />)\n      }\n      // if (this.props.recipes && this.state.alphabetize) {\n      //   const alphabetizedRecipes = [...this.props.recipes].sort(this.compare);\n      //   return alphabetizedRecipes.map(recipe=><BriefRecipeCard recipe={recipe} key={recipe.id} />)\n      // }\n      return this.props.recipes.map(recipe=><BriefRecipeCard recipe={recipe} key={recipe.id} />)\n  }\n\n  // compare = (a, b) => {\n  //   // Use toUpperCase() to ignore character casing\n  //   const recipeA = a.title.toUpperCase();\n  //   const recipeB = b.title.toUpperCase();\n  //\n  //   let comparison = 0;\n  //   if (recipeA > recipeB) {\n  //     comparison = 1;\n  //   } else if (recipeA < recipeB) {\n  //     comparison = -1;\n  //   }\n  //   return comparison;\n  // }\n\n  render() {\n    return (\n      <div className=\"recipes-list\">\n        <div className=\"search\">\n          <form onSubmit={e=>this.searchAllRecipes(e)}>\n            <input\n              type=\"text\"\n              placeholder=\"Search recipes by ingredient\"\n              onChange={e => {this.setState({ ...this.state, search_term: e.target.value })}}\n            />\n            { this.props.recipes.length === 0\n              ? <p>No matches found.</p>\n              : <></>\n            }\n          </form>\n        </div>\n        { this.recipeDisplay() }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    username: state.user.username,\n    recipes: ownProps.user ? state.recipes.filter(recipe => recipe.creator_name === state.user.username): state.recipes\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadRecipes: bindActionCreators(actions.loadRecipes, dispatch)\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Recipes))\n","import React, { Component } from 'react'\n\nexport default class IngredientsTable extends Component {\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          <tr>\n            <th>Ingredient</th>\n            <th>Calories(kCal)</th>\n            <th>Carbohydrates(g)</th>\n            <th>Protein(g)</th>\n            <th>Sugars(g)</th>\n          </tr>\n          {this.props.recipe.ingredients.map((ingredient, index) => {\n            return <tr key={index}>\n              <td>{ingredient.food_name}, {ingredient.serving_qty} {ingredient.serving_unit}</td>\n              <td>{Math.floor(ingredient.calories)}</td>\n              <td>{ingredient.total_carbohydrate}</td>\n              <td>{ingredient.protein}</td>\n              <td>{ingredient.sugars}</td>\n            </tr>\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport IngredientsTable from '../Tables/IngredientsTable'\n\nexport default class RecipePreview extends Component {\n  render() {\n    return (\n      <div className=\"preview\">\n\n        { // previews new recipe if it has a title\n          (this.props.recipe.title)\n          ? <>\n              <h3 className=\"title\">{this.props.recipe.title}</h3>\n              <h5>Servings: {this.props.recipe.servings}</h5>\n              <h5>Total Calories: {this.props.newRecipe ? <>Data Unavailable</> : this.props.sumNutritionalDataFor(this.props.recipe.ingredients, \"calories\")}</h5>\n              <p>{this.props.recipe.description}</p>\n              <div className=\"preview-image\" style={{background: `url(${this.props.recipe.image_url})`, backgroundSize: '100%'}}>\n              </div>\n            </>\n          : <h1>Preview</h1>\n        }\n\n        { (this.props.recipe.title && this.props.recipe.ingredients)\n            ? <IngredientsTable recipe={this.props.recipe} />\n            : <></>\n        }\n\n        { (this.props.newRecipe && this.props.recipe.title)\n          ? <input type=\"submit\" value=\"Save Recipe\" onClick={e=>this.props.saveRecipe(e, this.props.recipe)} />\n          : <></>\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nclass NewRecipeForm extends Component {\n\n  render() {\n    return (\n      <div>\n          <h1>Create a New Recipe</h1>\n          <form onSubmit={e=>this.props.fetchIngredients(e)}>\n            <textarea\n              cols=\"60\"\n              name=\"title\"\n              value={this.props.recipe.title}\n              placeholder=\"Title\"\n              onChange={event => this.props.handleOnChange(event)}\n              /><br />\n              <textarea\n                cols=\"60\"\n                name=\"image_url\"\n                value={this.props.recipe.image_url}\n                placeholder=\"Image\"\n                onChange={event => this.props.handleOnChange(event)}\n                /><br />\n            <textarea\n              cols=\"60\"\n              name=\"description\"\n              value={this.props.recipe.description}\n              placeholder=\"Brief Description\"\n              onChange={event => this.props.handleOnChange(event)}\n            /><br />\n            Servings: <input type=\"number\"\n              name=\"servings\"\n              value={this.props.recipe.servings}\n              onChange={event => this.props.handleOnChange(event)} /><br />\n            <textarea\n              rows=\"10\"\n              cols=\"60\"\n              name=\"ingredients\"\n              value={this.props.ingredients_to_fetch}\n              placeholder=\"Ingredient\"\n              onChange={event => this.props.handleOnChangeForIngredients(event)}\n              /><br />\n            <input type=\"submit\" value=\"Add Ingredients\" />\n          </form>\n      </div>\n    )\n  }\n}\n\nexport default NewRecipeForm\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux'\nimport * as actions from '../actions/RecipeActions'\n\nimport './NewRecipeForm.css'\n\nimport RecipePreview from '../components/RecipeComponents/RecipePreview'\nimport NewRecipeForm from '../components/RecipeComponents/NewRecipeForm'\n\nclass NewRecipe extends Component {\n  constructor() {\n    super();\n    this.state = {\n      recipe: {\n        title: '',\n        image_url: '',\n        description: '',\n        ingredients: '',\n        servings: ''\n      },\n      ingredients_to_fetch: '',\n      errors: ''\n    }\n  }\n\n  handleOnChange = event => {\n    event.preventDefault();\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      ...this.state,\n      recipe: {\n        ...this.state.recipe,\n        [name]: value\n      }\n    });\n  }\n\n  handleOnChangeForIngredients = event => {\n    event.preventDefault();\n    const value = event.target.value\n    this.setState({\n      ingredients_to_fetch: value\n    })\n  }\n\n  fetchIngredients = event => {\n    event.preventDefault()\n      this.setState({\n        ...this.state,\n          errors: ''\n      })\n      fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {\n      method: 'POST',\n      body: JSON.stringify({\n        query: this.state.ingredients_to_fetch\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-app-id': process.env.REACT_APP_NUTRITIONIX_APP_ID,\n        'x-app-key': process.env.REACT_APP_NUTRITIONIX_KEY,\n      }\n      }).then(res => res.json())\n      .then(res => {\n        if (res.message) {\n          this.setState({\n            ...this.state,\n            errors: res.message\n          })\n        }\n        else {\n        const ingredientList = res.foods.map( ingredient => {\n          let ingredientList = {}\n          ingredientList[\"food_name\"] = ingredient.food_name;\n          ingredientList[\"serving_qty\"] = ingredient.serving_qty;\n          ingredientList[\"serving_unit\"] = ingredient.serving_unit;\n          ingredientList[\"calories\"] = ingredient.nf_calories;\n          ingredientList[\"total_fat\"] = ingredient.nf_total_fat;\n          ingredientList[\"saturated_fat\"] = ingredient.nf_saturated_fat;\n          ingredientList[\"cholesterol\"] = ingredient.nf_cholesterol;\n          ingredientList[\"sodium\"] = ingredient.nf_sodium;\n          ingredientList[\"total_carbohydrate\"] = ingredient.nf_total_carbohydrate;\n          ingredientList[\"dietary_fiber\"] = ingredient.nf_dietary_fiber;\n          ingredientList[\"sugars\"] = ingredient.nf_sugars;\n          ingredientList[\"protein\"] = ingredient.nf_protein;\n          ingredientList[\"potassium\"] = ingredient.nf_potassium;\n          return ingredientList\n        })\n        this.setState({\n          ...this.state,\n          recipe: {\n            ...this.state.recipe,\n            ingredients: ingredientList\n          }\n        })\n      }\n      }).catch(err => console.log(err));\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"recipe-form\">\n          <NewRecipeForm\n            recipe={this.state.recipe}\n            ingredients_to_fetch={this.state.ingredients_to_fetch}\n            fetchIngredients={this.fetchIngredients}\n            handleOnChange={this.handleOnChange}\n            handleOnChangeForIngredients={this.handleOnChangeForIngredients}\n          />\n        </div>\n        { this.state.errors\n          ? <div className=\"errors\">\n              <h1>{this.state.errors}</h1>\n            </div>\n          : <div className=\"recipe-container\">\n            <RecipePreview\n            recipe={this.state.recipe}\n            saveRecipe={this.props.saveRecipe}\n            newRecipe=\"true\" />\n          </div>\n        }\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveRecipe: bindActionCreators(actions.saveRecipe, dispatch)\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(NewRecipe)\n","import React, { Component } from 'react'\nimport { sumNutritionalDataFor } from '../../modules/Helpers'\n\n\nclass NutritionalTable extends Component {\n\n  ingredients = this.props.recipe.ingredients\n  // collect names of all relevant nutritional datapoints from first ingredient\n  dataPoints = Object.keys(this.ingredients[0]).slice(3, this.ingredients[0].length)\n  // tally the values for each nutritional datapoint across the entire array of ingredients\n  nutritionalTotals = this.dataPoints.map(dataPoint => sumNutritionalDataFor(this.ingredients, dataPoint))\n  // if this.props.serving === true, calculate nutritional data for single serving\n  servingTotals = this.nutritionalTotals.map(data => Math.round(data/this.props.recipe.servings))\n\n  // removes symbols and capitalizes first letters of each word in datapoints\n  formatDataPoint = dataPoint => {\n    const removedSymbols = dataPoint.replace(/_/, \" \")\n    return removedSymbols.toLowerCase().replace(/(^| )(\\w)/g, s => s.toUpperCase())\n  }\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          { this.dataPoints.map( (dataPoint, index) => {\n            return (\n              <tr key={dataPoint}>\n                <th style={{textAlign: 'left'}}>{this.formatDataPoint(dataPoint)}</th>\n                <td style={{width: '150%', textAlign: 'right'}}>\n                  { this.props.serving ? this.servingTotals[index] : this.nutritionalTotals[index] }\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      )\n    }\n}\n\nexport default NutritionalTable\n","import React, { Component } from 'react'\n\nexport default class RecipeDetails extends Component {\n\n  displayImage = () => {\n    return this.props.recipe.image_url ? this.props.recipe.image_url : 'https://wallpaperaccess.com/full/512858.jpg'\n  }\n\n  render() {\n    return (\n      <>\n        <h1>{this.props.recipe.title}</h1>\n        { this.props.username === this.props.recipe.creator_name\n          ? <span className=\"fake-link\" onClick={()=>this.props.editDetailsToggler()}>Edit Recipe Details</span>\n          : <></>\n        }\n        <p>{this.props.recipe.description}</p>\n        <img src={this.displayImage()} />\n      </>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class EditRecipeDetails extends Component {\n  render() {\n    return (\n      <>\n      <h1>{this.props.recipe.title}</h1>\n      <span className=\"fake-link\" onClick={()=>this.props.editDetailsToggler()}>Close Edit Form</span>\n      <form onSubmit={e=>this.props.updateRecipeDetails(e, this.props.recipe)}>\n        <textarea\n          cols=\"60\"\n          name=\"title\"\n          value={this.props.recipe.title}\n          placeholder=\"Title\"\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n          /><br />\n        <textarea\n          cols=\"60\"\n          name=\"image_url\"\n          value={this.props.recipe.image_url}\n          placeholder=\"Image\"\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n        /><br />\n        Servings: <input\n          type=\"number\"\n          name=\"servings\"\n          value={this.props.recipe.servings}\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n        /><br />\n        <textarea\n          cols=\"60\"\n          name=\"description\"\n          value={this.props.recipe.description}\n          placeholder=\"Brief Description\"\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n        /><br />\n        <input type=\"submit\" value=\"Update Recipe Details\" /><br />\n      </form>\n      </>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class IngredientsTable extends Component {\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          <tr>\n            <th>Ingredient</th>\n            <th>Quantity</th>\n            <th>Serving Unit</th>\n            <th>Calories</th>\n            <th>Carbs(g)</th>\n            <th>Protein(g)</th>\n            <th>Sugars(g)</th>\n          </tr>\n          {this.props.ingredients.map((ingredient, index) => {\n            return (\n              <tr key={index}>\n                <td>{ingredient.food_name}</td>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"serving_qty\"\n                    value={ingredient.serving_qty}\n                    onChange={e=>this.props.handleOnChangeForIngredients(e, index, this.props.recipeID)}\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"serving_unit\"\n                    value={ingredient.serving_unit}\n                    onChange={e=>this.props.handleOnChangeForIngredients(e, index, this.props.recipeID)}\n                  />\n                </td>\n                <td>{Math.floor(ingredient.calories)}</td>\n                <td>{ingredient.total_carbohydrate}</td>\n                <td>{ingredient.protein}</td>\n                <td>{ingredient.sugars}</td>\n                <td><button onClick={e => this.props.updateIngredient(e, this.props.recipeID, ingredient.food_name, ingredient, index) }>Update</button></td>\n                <td><button onClick={e => this.props.deleteIngredient(e, this.props.recipeID, ingredient) }>Delete</button></td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class AddIngredientsForm extends Component {\n  constructor() {\n    super()\n    this.state={\n      rawIngredients: ''\n    }\n  }\n\n  handleOnChange = e => {\n    this.setState({\n      rawIngredients: e.target.value\n    })\n  }\n\n  render() {\n    return (\n       <form onSubmit={e => this.props.fetchAndPostIngredients(e, this.state.rawIngredients, this.props.recipe) }>\n        <textarea\n          rows=\"10\"\n          cols=\"60\"\n          name=\"rawIngredients\"\n          value={this.props.rawIngredients}\n          placeholder=\"Add Ingredients\"\n          onChange={e => this.handleOnChange(e)}\n          /><br />\n        <input type=\"submit\" value=\"Save Ingredients\" />\n        <button onClick={()=>this.props.addIngredientsToggler()}>Hide Form</button>\n      </form>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport * as actions from '../actions/RecipeActions'\n\nimport IngredientsTable from '../components/Tables/IngredientsTable'\nimport NutritionalTable from '../components/Tables/NutritionalTable'\nimport RecipeDetails from '../components/RecipeComponents/RecipeDetails'\nimport EditRecipeDetails from '../components/RecipeComponents/EditRecipeDetails'\nimport EditIngredients from '../components/Tables/EditIngredients'\nimport AddIngredientsForm from '../components/IngredientComponents/AddIngredientsForm'\n\nclass Recipe extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      ingredientsTableToggled: false,\n      nutritionalTableToggled: true,\n      servingTableToggled: false,\n      editIngredientsToggled: false,\n      addIngredientsToggled: false,\n      editRecipeDetails: false,\n    }\n  }\n\n  tableToggler = tableType => {\n    switch(tableType) {\n      case 'recipe':\n        return (\n          this.setState({\n            ingredientsTableToggled: false,\n            nutritionalTableToggled: true,\n            servingTableToggled: false,\n            editIngredientsToggled: false\n          })\n        )\n      case 'serving':\n        return (\n          this.setState({\n            ingredientsTableToggled: false,\n            nutritionalTableToggled: false,\n            servingTableToggled: true,\n            editIngredientsToggled: false\n          })\n        )\n      case 'ingredient':\n        return (\n          this.setState({\n            ingredientsTableToggled: true,\n            nutritionalTableToggled: false,\n            servingTableToggled: false,\n            editIngredientsToggled: false\n          })\n        )\n      case 'edit':\n        return (\n          this.setState({\n            ingredientsTableToggled: false,\n            nutritionalTableToggled: false,\n            servingTableToggled: false,\n            editIngredientsToggled: true\n          })\n        )\n      default:\n        console.log(\"No changes made to state\")\n    }\n  }\n\n  editDetailsToggler = () => {\n    this.setState({\n      ...this.state,\n        editRecipeDetails: this.state.editRecipeDetails ? false : true\n    })\n  }\n\n  addIngredientsToggler = () => {\n    this.setState({\n      addIngredientsToggled: (this.state.addIngredientsToggled) ? false : true\n    })\n  }\n\n  renderTable = () => {\n    if (this.state.nutritionalTableToggled) {\n      return <NutritionalTable recipe={this.props.recipe} />\n    }\n    if (this.state.ingredientsTableToggled) {\n      return <IngredientsTable recipe={this.props.recipe}/>\n    }\n    if (this.state.servingTableToggled) {\n      return <NutritionalTable recipe={this.props.recipe} serving=\"true\" />\n    }\n    if (this.state.editIngredientsToggled) {\n      return (\n        <>\n          <EditIngredients\n            handleOnChangeForIngredients={this.props.handleOnChangeForIngredients}\n            updateIngredient={this.props.updateIngredient}\n            deleteIngredient={this.props.deleteIngredient}\n            ingredients={this.props.recipe.ingredients}\n            recipeID={this.props.recipe.id}\n          />\n          { this.state.addIngredientsToggled\n            ? <AddIngredientsForm\n                addIngredientsToggler={this.addIngredientsToggler}\n                fetchAndPostIngredients={this.props.fetchAndPostIngredients}\n                recipe={this.props.recipe}\n              />\n            : <button onClick={()=>this.addIngredientsToggler()}>Add Ingredients</button>\n          }\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"full-recipe-card\">\n          { this.state.editRecipeDetails\n             ? <EditRecipeDetails\n                  recipe={this.props.recipe}\n                  editDetailsToggler={this.editDetailsToggler}\n                  editRecipeDetails={this.state.editRecipeDetails}\n                  handleOnChangeForRecipeDetails={this.props.handleOnChangeForRecipeDetails}\n                  updateRecipeDetails={this.props.updateRecipeDetails}\n                />\n             : <RecipeDetails recipe={this.props.recipe} username={this.props.username} editDetailsToggler={this.editDetailsToggler}/>\n          }\n        </div>\n        <div className=\"ingredients-table\">\n          <h1>Nutritional Data</h1>\n            <span className=\"fake-link\" onClick={()=>this.tableToggler('recipe')}>By Recipe</span> |\n            <span className=\"fake-link\" onClick={()=>this.tableToggler('serving')}> By Serving</span> |\n            <span className=\"fake-link\" onClick={()=>this.tableToggler('ingredient')}> By Ingredient</span>\n            { this.props.username === this.props.recipe.creator_name\n              ? <span className=\"fake-link\" onClick={()=>this.tableToggler('edit')}> | Edit</span>\n              : <></>\n            }\n            { this.renderTable() }\n          </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    username: state.user.username,\n    // below compares lowercased recipe title from state to current, reformatted slug\n    recipe: state.recipes.find(recipe => recipe.title.toLowerCase() === ownProps.location.pathname.split(\"/\")[2].split(\"-\").join(\" \"))\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleOnChangeForRecipeDetails: bindActionCreators(actions.handleOnChangeForRecipeDetails, dispatch),\n    updateRecipeDetails: bindActionCreators(actions.updateRecipeDetails, dispatch),\n    handleOnChangeForIngredients: bindActionCreators(actions.handleOnChangeForIngredients, dispatch),\n    updateIngredient: bindActionCreators(actions.updateIngredient, dispatch),\n    fetchAndPostIngredients: bindActionCreators(actions.fetchAndPostIngredients, dispatch),\n    deleteIngredient: bindActionCreators(actions.deleteIngredient, dispatch)\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Recipe))\n","import React, { Component } from 'react'\n\nexport default class GenericNotFound extends Component {\n  render() {\n    return (\n      <>\n        <h1>Something went wrong.</h1>\n        <img src=\"https://media.giphy.com/media/7QZ0XOOuTaMdW/giphy.gif\" alt=\"facepalm\" />\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Auth from './modules/Auth'\n\nimport Recipes from './containers/Recipes'\nimport NewRecipe from './containers/NewRecipe'\nimport Recipe from './containers/Recipe'\nimport GenericNotFound from './components/Misc/GenericNotFound'\n\nexport default (\n    <Switch id='routes'>\n      <Route exact path='/' render={ () => <Recipes/> }/>\n      {/* below route is unused...keeping because I'll prob use it eventually */}\n      <Route exact path='/recipes' component={ () =>  <Recipes/> }/>\n      <Route exact path='/my-recipes' component={ () =>  Auth.isUserAuthenticated() ? <Recipes user=\"true\"/> : <Redirect to=\"/login\"/> }/>\n      <Route exact path='/recipes/new' component={ () =>  Auth.isUserAuthenticated() ? <NewRecipe/> : <Redirect to=\"/login\"/> }/>\n      <Route exact path='/recipes/:recipeName' component={ () => <Recipe/> }/>\n      <Route path='*' component={() => <GenericNotFound />} />\n    </Switch>\n)\n","import Auth from '../modules/Auth'\n\nexport function fetchUserData() {\n  return (dispatch) => {\n    dispatch({ type: 'LOADING_USER_DATA'})\n    fetch('/profile', {\n      method: 'GET',\n      headers: {\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then( res => res.json())\n    .then( resJSON => {\n      dispatch({ type: 'LOAD_USER_DATA', payload: resJSON })\n    }).catch( err => console.log(err))\n  }\n}\n\nexport function logoutUser() {\n  return (dispatch) => {\n    fetch('/logout', {\n      method: 'DELETE',\n      headers: {\n        token: Auth.getToken(),\n        'Authorization': `Token ${Auth.getToken()}`\n      }\n    }).then( res => {\n      Auth.deauthenticateToken()\n      dispatch({ type: 'LOGOUT_USER' })\n    }).catch( err => console.log(err))\n  }\n}\n","import React, { Component } from 'react';\nimport Auth from '../../modules/Auth';\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport * as actions from '../../actions/UserActions';\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {\n        username: '',\n        password: ''\n      },\n      errors: false\n    }\n  }\n\n  handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      ...this.state,\n      user: {\n        ...this.state.user,\n        [name]: value,\n      }\n    });\n  }\n\n  handleLoginSubmit = (e, data) => {\n    e.preventDefault();\n    return fetch('/login', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n      })\n      .then(res => res.json())\n      .then(res => {\n        Auth.authenticateToken(res.token)\n        if (Auth.isUserAuthenticated()) {\n          this.props.fetchUserData();\n          this.props.history.push('/')\n        }\n        else {\n          this.setState({\n            ...this.state,\n              errors: true\n          })\n        }\n      }).catch(err => {console.log(err)})\n  }\n\n  render() {\n    return (\n      <div className=\"login-form\">\n        <form onSubmit={ (e) => this.handleLoginSubmit(e, this.state.user) }>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            value={this.state.user.username}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            value={this.state.user.password}\n            onChange={this.handleChange}\n          />\n          <input type=\"submit\" value=\"Login\"/>\n        </form>\n        { this.state.errors\n          ? <div className=\"errors\">\n              There was a problem logging you in.  Please try again.\n            </div>\n          : <></>\n        }\n      </div>\n\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserData: bindActionCreators(actions.fetchUserData, dispatch)\n  }\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(LoginForm))\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as actions from '../../actions/UserActions'\nimport Auth from '../../modules/Auth'\n\nclass SignupForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {\n        username: '',\n        password: '',\n        email: ''\n      },\n      errors: false\n    }\n  }\n\n  handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      ...this.state,\n        user: {\n          ...this.state.user,\n          [name]: value,\n        }\n    });\n  }\n\n  handleSignUpSubmit = (e) => {\n    e.preventDefault();\n    return fetch('/users', {\n      method: 'POST',\n      body: JSON.stringify({\n        user: this.state.user\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n      })\n      .then(res => res.json())\n      .then(res => {\n        Auth.authenticateToken(res.token)\n        if (Auth.isUserAuthenticated()) {\n          this.props.fetchUserData();\n          this.props.history.push('/')\n        }\n        else {\n          this.setState({\n            ...this.state,\n              errors: true\n          })\n        }\n      }).catch(err => console.log(err))\n  }\n\n  render() {\n    return (\n      <div className=\"signup-form\">\n        <form onSubmit={ (e) => { this.handleSignUpSubmit(e) } }>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            value={this.state.user.username}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"email\"\n            value={this.state.user.email}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            value={this.state.user.password}\n            onChange={this.handleChange}\n          />\n          <input type=\"submit\" value=\"Register!\"/>\n        </form>\n        { this.state.errors\n          ? <div className=\"errors\">\n              There was a problem creating your account.  Please ensure that all forms are filled.\n            </div>\n          : <></>\n        }\n      </div>\n\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserData: bindActionCreators(actions.fetchUserData, dispatch)\n  }\n}\n\n\n\nexport default withRouter(connect(null, mapDispatchToProps)(SignupForm))\n","import React, { Component } from 'react'\n\nexport default class Welcome extends Component {\n\n  render() {\n    return (\n      <div className=\"welcome\">\n        <h1>Recipe box is a nutritional tracker for home cooks who love to experiment in the kitchen</h1>\n      </div>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport './App.css'\nimport Auth from './modules/Auth'\nimport routes from './routes'\nimport { withRouter, Link } from 'react-router-dom'\n\nimport LoginForm from './components/UserForms/LoginForm'\nimport SignUpForm from './components/UserForms/SignUpForm'\nimport Welcome from './components/Misc/Welcome'\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state={\n      loginToggled: false,\n      signupToggled: false,\n      firstView: true\n    }\n  }\n\n  handleLogout = e => {\n    e.preventDefault();\n    this.toggleLogin(); // toggles state.login to false; otherwise login form would be visible on redirect to home\n    Auth.deauthenticateToken();\n    this.props.history.push('/');\n  }\n\n  // opens/closes signup form\n  toggleSignup = () => {\n    this.setState({\n      loginToggled: false,\n      signupToggled: this.state.signupToggled ? false : true\n    })\n  }\n\n  //opens/closes login form\n  toggleLogin = () => {\n    this.setState({\n      loginToggled: this.state.loginToggled ? false : true,\n      signupToggled: false\n    })\n  }\n\n  // renders login or signup forms depending on whether loginToggled/signupToggled = true || false\n  renderForms = () => {\n    if (this.state.loginToggled) {\n      return <LoginForm />\n    }\n    if (this.state.signupToggled) {\n      return <SignUpForm />\n    }\n  }\n\n  // displays links for logged in user\n  renderPrivateNavBar = () => {\n    return (\n        <div className=\"nav-bar\">\n          <Link to=\"/\">Home</Link>\n          <Link to=\"/my-recipes\">My Recipes</Link>\n          <Link to=\"/recipes/new\">Add a Recipe</Link>\n          <a href=\"/logout\" onClick={e => this.handleLogout(e)}>Logout</a>\n        </div>\n    )\n  }\n\n  //displays links to unregistered/not logged in users\n  renderPublicNavBar = () => {\n    return (\n      <div className=\"nav-bar\">\n        <Link to=\"/\">Home</Link>\n        <Link to={this.props.history} onClick={()=>this.toggleSignup()}>Sign Up</Link>\n        <Link to={this.props.history} onClick={()=>this.toggleLogin()}>Log In</Link>\n      </div>\n    )\n  }\n\n  componentDidUpdate() {\n    // hides welcome component from view after first page view\n    if (this.state.firstView) {\n      this.setState({\n        firstView: false\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"navigation\">\n          <div id=\"mainLogo\">\n            <h1>Recipe Box</h1>\n          </div>\n          {\n            // determines which navbar to display\n            (Auth.isUserAuthenticated())\n            ? this.renderPrivateNavBar()\n            : this.renderPublicNavBar()\n          }\n          {\n            // displays login/signup forms if user isn't logged in\n            (!Auth.isUserAuthenticated())\n             ? this.renderForms()\n             : <></>\n          }\n        </div>\n        {\n          // renders welcome component only on first user view\n          (!Auth.isUserAuthenticated() && this.state.firstView)\n          ? <Welcome />\n          : <></>\n        }\n        <>{ routes }</>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport { BrowserRouter } from 'react-router-dom'\nimport PrelimReducer from './reducers/PrelimReducer'\nimport './index.css';\nimport App from './App';\n\nimport { loadState, saveState } from './modules/LocalStorage'\n\nconst persistedState = loadState()\n\nconst store = createStore(\n  PrelimReducer,\n  persistedState,\n  compose(\n    applyMiddleware(thunk),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n)\n\nstore.subscribe(()=>{\n  saveState(store.getState())\n})\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'));\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch {\n    // ignore write errors\n  }\n};\n","import Auth from '../modules/Auth'\n\nexport default function prelimReducer(state={\n  user: {\n    id: null,\n    username: '',\n    email: '', // unnecessary?\n    recipes: [], // unnecessary?\n    auth: Auth.isUserAuthenticated(),\n    isLoaded: false // unnecessary?\n    },\n  recipes: [],\n  // adds up total nutritional data for a given dataPoint (ie, calories) and array of ingredients\n  sumNutritionalDataFor: (ingredients, dataPoint) => Math.round(ingredients.map(i => i[dataPoint]).reduce((a,b)=>a+b,0)),\n  // replaces spaces with dashes in recipe titles\n  formatRecipeURL:  recipe => { return recipe.toLowerCase().replace(/\\s/g , \"-\" ) }\n}, action) {\n\n  switch(action.type) {\n\n      case 'LOGOUT_USER':\n        return {\n            user: {\n              ...state.user,\n              auth: Auth.isUserAuthenticated()\n            }\n        }\n\n      case 'LOADING_USER_DATA':\n        return {\n          ...state,\n            user: {\n              ...state.user,\n              isLoaded: true,\n              auth: true\n            }\n        }\n\n      case 'LOAD_USER_DATA':\n        if (state.user.isLoaded) {\n          return {\n            ...state,\n              user: {\n                ...state.user,\n                id: action.payload.id,\n                email: action.payload.email,\n                username: action.payload.username,\n                recipes: action.payload.recipes || []\n              }\n          }\n        }else {\n          console.log(\"Still Loading\")\n          break\n        }\n\n      case 'LOAD_RECIPES':\n        return {\n          ...state,\n            recipes: action.payload\n        }\n\n      case 'ADD_RECIPE':\n        return {\n          ...state,\n              recipes: [...state.recipes.concat(action.payload)]\n        }\n\n      case 'ADD_NEW_INGREDIENTS_TO_RECIPE':\n        return {\n          ...state,\n            recipes: state.recipes.map(\n              recipe => recipe.id === action.payload.recipeID\n                ? {...recipe, ingredients: recipe.ingredients.concat(action.payload.ingredientsList)}\n                : recipe\n            )\n\n        }\n\n      case 'UPDATE_RECIPE_DETAILS':\n        return {\n          ...state,\n            recipes: state.recipes.map(\n              recipe => recipe.id === action.payload.id\n                ? {...recipe, title: action.payload.title, description: action.payload.description, image_url: action.payload.image_url, servings: action.payload.servings, id: action.payload.id}\n                : recipe\n              )\n        }\n\n      case 'HANDLE_ONCHANGE_FOR_INGREDIENTS':\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeID\n                ? {\n                    ...recipe,\n                      ingredients:\n                        recipe.ingredients.map((ingredient, index) =>\n                          index === action.payload.ingredientIndex\n                            ? {...ingredient, [action.payload.name]: action.payload.value}\n                            : ingredient\n                      )\n                  }\n                : recipe\n            )\n        }\n\n      case 'HANDLE_ONCHANGE_FOR_RECIPE_DETAILS':\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeID\n                ? {\n                    ...recipe,\n                      [action.payload.name]: action.payload.value\n                  }\n                : recipe\n            )\n        }\n\n      case 'UPDATE_INGREDIENT':\n        // let recipeIndex = state.recipes.indexOf(state.recipes.find( recipe => recipe.id === action.payload.recipeID))\n        // state.recipes[recipeIndex].ingredients[action.payload.ingredientIndex] = action.payload.updatedIngredient\n\n        //THIS WORKS BETTER THAN ABOVE, but with more errors -- can only update ingredients once for some reason\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeID\n                ? {...recipe, ingredients: recipe.ingredients.map((ingredient, index) =>\n                    index === action.payload.ingredientIndex ? action.payload.updatedIngredient : ingredient\n                )}\n                : recipe\n            )\n        }\n\n      case 'DELETE_INGREDIENT':\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeId\n                ? {...recipe, ingredients: recipe.ingredients.filter(ingredient => ingredient !== action.payload.ingredient)}\n                : recipe\n              )\n        }\n\n    default:\n      return state\n  }\n}\n"],"sourceRoot":""}