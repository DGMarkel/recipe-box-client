{"version":3,"sources":["modules/Auth.js","actions/RecipeActions.js","components/RecipeComponents/BriefRecipeCard.jsx","containers/Recipes.jsx","components/Tables/IngredientsTable.jsx","components/RecipeComponents/RecipePreview.jsx","components/RecipeComponents/NewRecipeForm.jsx","containers/NewRecipe.jsx","components/Tables/NutritionalTable.jsx","components/RecipeComponents/RecipeDetails.jsx","components/RecipeComponents/EditRecipeDetails.jsx","components/Tables/EditIngredients.jsx","components/IngredientComponents/AddIngredientsForm.jsx","containers/Recipe.jsx","components/Misc/GenericNotFound.jsx","routes.js","actions/UserActions.js","components/UserForms/LoginForm.jsx","components/UserForms/SignUpForm.jsx","components/Misc/Welcome.jsx","App.js","index.js","reducers/PrelimReducer.js"],"names":["Auth","token","sessionStorage","setItem","getItem","removeItem","loadRecipes","dispatch","fetch","then","res","json","resJSON","type","payload","catch","err","console","log","handleOnChangeForIngredients","e","ingredientIndex","recipeID","name","target","value","handleOnChangeForRecipeDetails","event","preventDefault","updateRecipeDetails","recipe","method","body","JSON","stringify","id","title","description","image_url","servings","headers","Content-Type","getToken","authorization","concat","updateIngredient","foodName","ingredient","serving_unit","ingredientString","serving_qty","query","x-app-id","process","x-app-key","updatedIngredient","food_name","foods","calories","nf_calories","total_fat","nf_total_fat","saturated_fat","nf_saturated_fat","cholesterol","nf_cholesterol","sodium","nf_sodium","total_carbohydrate","nf_total_carbohydrate","dietary_fiber","nf_dietary_fiber","sugars","nf_sugars","protein","nf_protein","potassium","nf_potassium","ingredient_data","fetchAndPostIngredients","rawIngredients","ingredientsList","map","ingredients","deleteIngredient","recipeId","saveRecipe","BriefRecipeCard","shortDescription","substr","Math","min","length","lastIndexOf","calsPerServing","round","_this","props","sumNutritionalDataFor","react_default","a","createElement","className","Link","to","pathname","this","formatRecipeURL","state","style","background","backgroundSize","Component","withRouter","connect","Recipes","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","recipeDisplay","search_term","recipes","filter","find","includes","RecipeComponents_BriefRecipeCard","key","_this2","onSubmit","searchAllRecipes","placeholder","onChange","setState","objectSpread","Fragment","ownProps","username","user","creator_name","bindActionCreators","actions","IngredientsTable","index","floor","RecipePreview","newRecipe","IngredientsTable_IngredientsTable","onClick","NewRecipeForm","fetchIngredients","cols","handleOnChange","rows","ingredients_to_fetch","NewRecipe","defineProperty","errors","message","ingredientList","RecipeComponents_NewRecipeForm","RecipePreview_RecipePreview","NutritionalTable","dataPoints","keys","slice","nutritionalTotals","dataPoint","servingTotals","data","formatDataPoint","replace","toLowerCase","s","toUpperCase","textAlign","width","serving","RecipeDetails","editDetailsToggler","src","alt","EditRecipeDetails","AddIngredientsForm","addIngredientsToggler","Recipe","tableToggler","tableType","ingredientsTableToggled","nutritionalTableToggled","servingTableToggled","editIngredientsToggled","editRecipeDetails","addIngredientsToggled","renderTable","Tables_NutritionalTable","EditIngredients_IngredientsTable","AddIngredientsForm_AddIngredientsForm","EditRecipeDetails_EditRecipeDetails","RecipeDetails_RecipeDetails","location","split","join","GenericNotFound","routes","Switch","Route","exact","path","render","containers_Recipes","component","isUserAuthenticated","Redirect","containers_NewRecipe","containers_Recipe","GenericNotFound_GenericNotFound","fetchUserData","LoginForm","handleChange","handleLoginSubmit","authenticateToken","history","push","password","SignupForm","handleSignUpSubmit","email","Welcome","App","handleLogout","toggleLogin","deauthenticateToken","toggleSignup","loginToggled","signupToggled","renderForms","UserForms_LoginForm","SignUpForm","renderPrivateNavBar","href","renderPublicNavBar","firstView","Welcome_Welcome","store","createStore","arguments","undefined","auth","isLoaded","i","reduce","b","action","toConsumableArray","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","react_redux_es","HashRouter","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d94d9e35.chunk.js","sourcesContent":["class Auth {\n\n  static authenticateToken(token) {\n    sessionStorage.setItem('token', token);\n  }\n\n  static isUserAuthenticated() {\n    if (sessionStorage.getItem('token') !== \"undefined\") {\n      return sessionStorage.getItem('token') !== null;\n    }\n  }\n\n  static deauthenticateToken() {\n    sessionStorage.removeItem('token');\n  }\n\n  static getToken() {\n    return sessionStorage.getItem('token');\n  }\n}\n\nexport default Auth;\n","import Auth from '../modules/Auth'\n\nexport function loadRecipes() {\n  return (dispatch) => {\n  fetch('/recipes')\n    .then(res => res.json())\n    .then(resJSON => {\n      dispatch({type:'LOAD_RECIPES', payload: resJSON})\n    })\n    .catch(err => console.log(err))\n  }\n}\n\nexport function handleOnChangeForIngredients(e, ingredientIndex, recipeID) {\n  return (dispatch) => {\n    dispatch({\n      type: 'HANDLE_ONCHANGE_FOR_INGREDIENTS',\n      payload: {\n        name: e.target.name,\n        value: e.target.value,\n        ingredientIndex: ingredientIndex,\n        recipeID: recipeID\n      }\n    })\n  }\n}\n\nexport function handleOnChangeForRecipeDetails(event, recipeID) {\n  event.preventDefault();\n  const name = event.target.name;\n  const value = event.target.value;\n  return (dispatch) => {\n    dispatch({\n      type: 'HANDLE_ONCHANGE_FOR_RECIPE_DETAILS',\n      payload: { name: name, value: value, recipeID: recipeID }\n    })\n  }\n}\n\n// updates recipe title, description, and image_url on backend\nexport function updateRecipeDetails(event, recipe) {\n  event.preventDefault();\n  return (dispatch) => {\n    fetch('/edit-recipe', {\n      method: 'PATCH',\n      body: JSON.stringify({\n        recipe: {\n          id: recipe.id,\n          title: recipe.title,\n          description: recipe.description,\n          image_url: recipe.image_url,\n          servings: recipe.servings\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then(dispatch({type: 'UPDATE_RECIPE_DETAILS', payload: recipe}))\n    .catch(err => console.log(err))\n  }\n}\n\n// fetches new data for edited ingredients from 3rd party API;\n// updates local state with new ingredient data;\n// updates backend ingredients\n\nexport function updateIngredient(event, recipeID, foodName, ingredient, ingredientIndex) {\n  event.preventDefault();\n  if (foodName === ingredient.serving_unit) delete ingredient.serving_unit;\n  const ingredientString = `${ingredient.serving_qty} ${ingredient.serving_unit || ''} ${foodName}`\n\n  return (dispatch) => {\n    fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {\n      method: 'POST',\n      body: JSON.stringify({\n        query: ingredientString\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-app-id': process.env.REACT_APP_NUTRITIONIX_APP_ID,\n        'x-app-key': process.env.REACT_APP_NUTRITIONIX_KEY,\n      }\n      }).then(res => res.json())\n      .then(res => {\n        let updatedIngredient = {\n          food_name: res.foods[0].food_name,\n          serving_qty: res.foods[0].serving_qty,\n          serving_unit: res.foods[0].serving_unit,\n          calories: res.foods[0].nf_calories,\n          total_fat: res.foods[0].nf_total_fat,\n          saturated_fat: res.foods[0].nf_saturated_fat,\n          cholesterol: res.foods[0].nf_cholesterol,\n          sodium: res.foods[0].nf_sodium,\n          total_carbohydrate: res.foods[0].nf_total_carbohydrate,\n          dietary_fiber: res.foods[0].nf_dietary_fiber,\n          sugars: res.foods[0].nf_sugars,\n          protein: res.foods[0].nf_protein,\n          potassium: res.foods[0].nf_potassium,\n        }\n\n        fetch('/edit-ingredient', {\n          method: 'PATCH',\n          body: JSON.stringify({\n            ingredient: {\n              ingredient_data: updatedIngredient,\n              recipeID: recipeID\n            }\n          }),\n          headers: {\n            'Content-Type': 'application/json',\n            token: Auth.getToken(),\n            'authorization':  `Token ${Auth.getToken()}`\n          }\n        })\n\n        dispatch({ type: 'UPDATE_INGREDIENT', payload: {recipeID: recipeID, ingredientIndex: ingredientIndex, updatedIngredient: updatedIngredient}})\n        }).catch(err => console.log(err));\n    }\n  }\n\nexport function fetchAndPostIngredients(event, rawIngredients, recipe) {\n  event.preventDefault()\n  return (dispatch) => {\n    fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {\n    method: 'POST',\n    body: JSON.stringify({\n      query: rawIngredients\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      'x-app-id': process.env.REACT_APP_NUTRITIONIX_APP_ID,\n      'x-app-key': process.env.REACT_APP_NUTRITIONIX_KEY,\n    }\n    }).then(res => res.json())\n    .then(res => {\n      const ingredientsList = res.foods.map( ingredient => {\n        return {\n          food_name: ingredient.food_name,\n          serving_qty: ingredient.serving_qty,\n          serving_unit: ingredient.serving_unit,\n          calories: ingredient.nf_calories,\n          total_fat: ingredient.nf_total_fat,\n          saturated_fat: ingredient.nf_saturated_fat,\n          cholesterol: ingredient.nf_cholesterol,\n          sodium: ingredient.nf_sodium,\n          total_carbohydrate: ingredient.nf_total_carbohydrate,\n          dietary_fiber: ingredient.nf_dietary_fiber,\n          sugars: ingredient.nf_sugars,\n          protein: ingredient.nf_protein,\n          potassium: ingredient.nf_potassium,\n        }\n      })\n\n      fetch('/edit-recipe', {\n        method: 'PATCH',\n        body: JSON.stringify({\n          recipe: {\n            id: recipe.id,\n            title: recipe.title,\n            description: recipe.description,\n            image_url: recipe.image_url,\n            ingredients: ingredientsList\n          }\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          token: Auth.getToken(),\n          'authorization':  `Token ${Auth.getToken()}`\n        }\n      })\n      dispatch({ type:'ADD_NEW_INGREDIENTS_TO_RECIPE', payload: {ingredientsList: ingredientsList, recipeID: recipe.id} })\n    }).catch(err => console.log(err));\n  }\n}\n\nexport function clearNewIngredient() {\n  return (dispatch) => {\n    dispatch({ type: 'CLEAR_NEW_INGREDIENTS' })\n  }\n}\n\nexport function deleteIngredient(e, recipeId, ingredient) {\n  e.preventDefault();\n  return (dispatch) => {\n    fetch('/delete', {\n      method: 'DELETE',\n      body: JSON.stringify({\n        ingredient: {\n          recipeID: recipeId,\n          ingredient_data: ingredient\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then(dispatch({type: 'DELETE_INGREDIENT', payload: {recipeId: recipeId, ingredient: ingredient}}))\n  }\n}\n\nexport function saveRecipe(e, recipe) {\n  e.preventDefault();\n  return (dispatch) => {\n    fetch('/recipes', {\n      method: 'POST',\n      body: JSON.stringify({\n        recipe: {\n          title: recipe.title,\n          description: recipe.description,\n          image_url: recipe.image_url,\n          ingredients: recipe.ingredients,\n          servings: recipe.servings\n        }\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then(res => res.json())\n    .then(res => {\n      recipe.id = res.recipe.id\n      dispatch({ type: 'ADD_RECIPE', payload: recipe})\n    })\n    .catch(err => console.log(err))\n  }\n}\n","import React, { Component } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport '../Component.css'\n\nclass BriefRecipeCard extends Component {\n\n  // shortens recipe descriptions to fit recipe card\n  shortDescription = description => {\n    const shortDescription = description.substr(0, 80) // creates 80 char substring of description\n    // ensures last character of substring is not a space, adds an ellipsis\n    return shortDescription.substr(0, Math.min(shortDescription.length, shortDescription.lastIndexOf(\" \"))).concat(\"...\")\n  }\n\n  calsPerServing = recipe => {\n    return (recipe.ingredients && recipe.servings > 0) ? Math.round(this.props.sumNutritionalDataFor(recipe.ingredients, \"calories\")/recipe.servings) : <p>Unavailable</p>\n  }\n\n  render() {\n    return (\n      <div className=\"recipe-card\">\n        <Link to={{\n          pathname: `recipes/${this.props.formatRecipeURL(this.props.recipe.title)}`,\n          state: {recipe: this.props.recipe}\n        }}>\n          <div className=\"recipe-header\">\n            <div className=\"recipe-card-image\" style={{background: `url(${this.props.recipe.image_url})`, backgroundSize: '150%'}}>\n              <div className=\"cals-per-serving\">\n                Calories/serving: { this.calsPerServing(this.props.recipe) }\n              </div>\n            </div>\n          </div>\n\n          <div className=\"container\">\n            <h3 className=\"title\">{this.props.recipe.title}</h3>\n            <p className=\"description\">{this.shortDescription(this.props.recipe.description)}</p>\n          </div>\n        </Link>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    formatRecipeURL: state.formatRecipeURL,\n    sumNutritionalDataFor: state.sumNutritionalDataFor\n  }\n}\n\nexport default withRouter(connect(mapStateToProps)(BriefRecipeCard))\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators} from 'redux'\nimport * as actions from '../actions/RecipeActions'\n\nimport BriefRecipeCard from '../components/RecipeComponents/BriefRecipeCard'\n\n\nclass Recipes extends Component {\n  constructor() {\n    super()\n    this.state = {\n      search_term: '',\n      // alphabetize: false\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.recipes.length === 0) {\n      this.props.loadRecipes()\n    }\n  }\n\n  recipeDisplay = () => {\n      if (this.state.search_term.length > 0) {\n\n        const recipes = this.props.recipes.filter(recipe=>recipe.ingredients.find(ingredient =>ingredient[\"food_name\"].includes(this.state.search_term)));\n        return recipes.map(recipe=><BriefRecipeCard recipe={recipe} key={recipe.id} />)\n      }\n      // if (this.props.recipes && this.state.alphabetize) {\n      //   const alphabetizedRecipes = [...this.props.recipes].sort(this.compare);\n      //   return alphabetizedRecipes.map(recipe=><BriefRecipeCard recipe={recipe} key={recipe.id} />)\n      // }\n      return this.props.recipes.map(recipe=><BriefRecipeCard recipe={recipe} key={recipe.id} />)\n  }\n\n  // compare = (a, b) => {\n  //   // Use toUpperCase() to ignore character casing\n  //   const recipeA = a.title.toUpperCase();\n  //   const recipeB = b.title.toUpperCase();\n  //\n  //   let comparison = 0;\n  //   if (recipeA > recipeB) {\n  //     comparison = 1;\n  //   } else if (recipeA < recipeB) {\n  //     comparison = -1;\n  //   }\n  //   return comparison;\n  // }\n\n  render() {\n    return (\n      <div className=\"recipes-list\">\n        <div className=\"search\">\n          <form onSubmit={e=>this.searchAllRecipes(e)}>\n            <input\n              type=\"text\"\n              placeholder=\"Search recipes by ingredient\"\n              onChange={e => {this.setState({ ...this.state, search_term: e.target.value })}}\n            />\n            { this.props.recipes.length === 0\n              ? <p>No matches found.</p>\n              : <></>\n            }\n          </form>\n        </div>\n        { this.recipeDisplay() }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    username: state.user.username,\n    recipes: ownProps.user ? state.recipes.filter(recipe => recipe.creator_name === state.user.username): state.recipes\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadRecipes: bindActionCreators(actions.loadRecipes, dispatch)\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Recipes))\n","import React, { Component } from 'react'\n\nexport default class IngredientsTable extends Component {\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          <tr>\n            <th>Ingredient</th>\n            <th>Calories(kCal)</th>\n            <th>Carbohydrates(g)</th>\n            <th>Protein(g)</th>\n            <th>Sugars(g)</th>\n          </tr>\n          {this.props.recipe.ingredients.map((ingredient, index) => {\n            return <tr key={index}>\n              <td>{ingredient.food_name}, {ingredient.serving_qty} {ingredient.serving_unit}</td>\n              <td>{Math.floor(ingredient.calories)}</td>\n              <td>{ingredient.total_carbohydrate}</td>\n              <td>{ingredient.protein}</td>\n              <td>{ingredient.sugars}</td>\n            </tr>\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport IngredientsTable from '../Tables/IngredientsTable'\n\nexport default class RecipePreview extends Component {\n  render() {\n    return (\n      <div className=\"preview\">\n\n        { // previews new recipe if it has a title\n          (this.props.recipe.title)\n          ? <>\n              <h3 className=\"title\">{this.props.recipe.title}</h3>\n              <h5>Servings: {this.props.recipe.servings}</h5>\n              <h5>Total Calories: {this.props.newRecipe ? <>Data Unavailable</> : this.props.sumNutritionalDataFor(this.props.recipe.ingredients, \"calories\")}</h5>\n              <p>{this.props.recipe.description}</p>\n              <div className=\"preview-image\" style={{background: `url(${this.props.recipe.image_url})`, backgroundSize: '100%'}}>\n              </div>\n            </>\n          : <h1>Preview</h1>\n        }\n\n        { (this.props.recipe.title && this.props.recipe.ingredients)\n            ? <IngredientsTable recipe={this.props.recipe} />\n            : <></>\n        }\n\n        { (this.props.newRecipe && this.props.recipe.title)\n          ? <input type=\"submit\" value=\"Save Recipe\" onClick={e=>this.props.saveRecipe(e, this.props.recipe)} />\n          : <></>\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nclass NewRecipeForm extends Component {\n\n  render() {\n    return (\n      <div>\n          <h1>Create a New Recipe</h1>\n          <form onSubmit={e=>this.props.fetchIngredients(e)}>\n            <textarea\n              cols=\"60\"\n              name=\"title\"\n              value={this.props.recipe.title}\n              placeholder=\"Title\"\n              onChange={event => this.props.handleOnChange(event)}\n              /><br />\n              <textarea\n                cols=\"60\"\n                name=\"image_url\"\n                value={this.props.recipe.image_url}\n                placeholder=\"Image\"\n                onChange={event => this.props.handleOnChange(event)}\n                /><br />\n            <textarea\n              cols=\"60\"\n              name=\"description\"\n              value={this.props.recipe.description}\n              placeholder=\"Brief Description\"\n              onChange={event => this.props.handleOnChange(event)}\n            /><br />\n            Servings: <input type=\"number\"\n              name=\"servings\"\n              value={this.props.recipe.servings}\n              onChange={event => this.props.handleOnChange(event)} /><br />\n            <textarea\n              rows=\"10\"\n              cols=\"60\"\n              name=\"ingredients\"\n              value={this.props.ingredients_to_fetch}\n              placeholder=\"Ingredient\"\n              onChange={event => this.props.handleOnChangeForIngredients(event)}\n              /><br />\n            <input type=\"submit\" value=\"Add Ingredients\" />\n          </form>\n      </div>\n    )\n  }\n}\n\nexport default NewRecipeForm\n","import React, { Component } from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux'\nimport * as actions from '../actions/RecipeActions'\n\nimport './NewRecipeForm.css'\n\nimport RecipePreview from '../components/RecipeComponents/RecipePreview'\nimport NewRecipeForm from '../components/RecipeComponents/NewRecipeForm'\n\nclass NewRecipe extends Component {\n  constructor() {\n    super();\n    this.state = {\n      recipe: {\n        title: '',\n        image_url: '',\n        description: '',\n        ingredients: '',\n        servings: ''\n      },\n      ingredients_to_fetch: '',\n      errors: ''\n    }\n  }\n\n  handleOnChange = event => {\n    event.preventDefault();\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      ...this.state,\n      recipe: {\n        ...this.state.recipe,\n        [name]: value\n      }\n    });\n  }\n\n  handleOnChangeForIngredients = event => {\n    event.preventDefault();\n    const value = event.target.value\n    this.setState({\n      ingredients_to_fetch: value\n    })\n  }\n\n  fetchIngredients = event => {\n    event.preventDefault()\n      this.setState({\n        ...this.state,\n          errors: ''\n      })\n      fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {\n      method: 'POST',\n      body: JSON.stringify({\n        query: this.state.ingredients_to_fetch\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-app-id': process.env.REACT_APP_NUTRITIONIX_APP_ID,\n        'x-app-key': process.env.REACT_APP_NUTRITIONIX_KEY,\n      }\n      }).then(res => res.json())\n      .then(res => {\n        if (res.message) {\n          this.setState({\n            ...this.state,\n            errors: res.message\n          })\n        }\n        else {\n        const ingredientList = res.foods.map( ingredient => {\n          let ingredientList = {}\n          ingredientList[\"food_name\"] = ingredient.food_name;\n          ingredientList[\"serving_qty\"] = ingredient.serving_qty;\n          ingredientList[\"serving_unit\"] = ingredient.serving_unit;\n          ingredientList[\"calories\"] = ingredient.nf_calories;\n          ingredientList[\"total_fat\"] = ingredient.nf_total_fat;\n          ingredientList[\"saturated_fat\"] = ingredient.nf_saturated_fat;\n          ingredientList[\"cholesterol\"] = ingredient.nf_cholesterol;\n          ingredientList[\"sodium\"] = ingredient.nf_sodium;\n          ingredientList[\"total_carbohydrate\"] = ingredient.nf_total_carbohydrate;\n          ingredientList[\"dietary_fiber\"] = ingredient.nf_dietary_fiber;\n          ingredientList[\"sugars\"] = ingredient.nf_sugars;\n          ingredientList[\"protein\"] = ingredient.nf_protein;\n          ingredientList[\"potassium\"] = ingredient.nf_potassium;\n          return ingredientList\n        })\n        this.setState({\n          ...this.state,\n          recipe: {\n            ...this.state.recipe,\n            ingredients: ingredientList\n          }\n        })\n      }\n      }).catch(err => console.log(err));\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"recipe-form\">\n          <NewRecipeForm\n            recipe={this.state.recipe}\n            ingredients_to_fetch={this.state.ingredients_to_fetch}\n            fetchIngredients={this.fetchIngredients}\n            handleOnChange={this.handleOnChange}\n            handleOnChangeForIngredients={this.handleOnChangeForIngredients}\n          />\n        </div>\n        { this.state.errors\n          ? <div className=\"errors\">\n              <h1>{this.state.errors}</h1>\n            </div>\n          : <div className=\"recipe-container\">\n            <RecipePreview\n            recipe={this.state.recipe}\n            saveRecipe={this.props.saveRecipe}\n            newRecipe=\"true\" />\n          </div>\n        }\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveRecipe: bindActionCreators(actions.saveRecipe, dispatch)\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(NewRecipe)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nclass NutritionalTable extends Component {\n\n  ingredients = this.props.recipe.ingredients\n  // collect names of all relevant nutritional datapoints from first ingredient\n  dataPoints = Object.keys(this.ingredients[0]).slice(3, this.ingredients[0].length)\n  // tally the values for each nutritional datapoint across the entire array of ingredients\n  nutritionalTotals = this.dataPoints.map(dataPoint => this.props.sumNutritionalDataFor(this.ingredients, dataPoint))\n  // if this.props.serving === true, calculate nutritional data for single serving\n  servingTotals = this.nutritionalTotals.map(data => Math.round(data/this.props.recipe.servings))\n\n  // removes symbols and capitalizes first letters of each word in datapoints\n  formatDataPoint = dataPoint => {\n    const removedSymbols = dataPoint.replace(/_/, \" \")\n    return removedSymbols.toLowerCase().replace(/(^| )(\\w)/g, s => s.toUpperCase())\n  }\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          { this.dataPoints.map( (dataPoint, index) => {\n            return (\n              <tr key={dataPoint}>\n                <th style={{textAlign: 'left'}}>{this.formatDataPoint(dataPoint)}</th>\n                <td style={{width: '150%', textAlign: 'right'}}>\n                  { this.props.serving ? this.servingTotals[index] : this.nutritionalTotals[index] }\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n      )\n    }\n}\n\nconst mapStateToProps = state => {\n  return {\n    sumNutritionalDataFor: state.sumNutritionalDataFor\n  }\n}\n\nexport default connect(mapStateToProps)(NutritionalTable)\n","import React, { Component } from 'react'\n\nexport default class RecipeDetails extends Component {\n\n  render() {\n    return (\n      <>\n        <h1>{this.props.recipe.title}</h1>\n        { this.props.username === this.props.recipe.creator_name\n          ? <span className=\"fake-link\" onClick={()=>this.props.editDetailsToggler()}>Edit Recipe Details</span>\n          : <></>\n        }\n        <p>{this.props.recipe.description}</p>\n        <img src={this.props.recipe.image_url} alt={this.props.recipe.title} />\n      </>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class EditRecipeDetails extends Component {\n  render() {\n    return (\n      <>\n      <h1>{this.props.recipe.title}</h1>\n      <span className=\"fake-link\" onClick={()=>this.props.editDetailsToggler()}>Close Edit Form</span>\n      <form onSubmit={e=>this.props.updateRecipeDetails(e, this.props.recipe)}>\n        <textarea\n          cols=\"60\"\n          name=\"title\"\n          value={this.props.recipe.title}\n          placeholder=\"Title\"\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n          /><br />\n        <textarea\n          cols=\"60\"\n          name=\"image_url\"\n          value={this.props.recipe.image_url}\n          placeholder=\"Image\"\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n        /><br />\n        Servings: <input\n          type=\"number\"\n          name=\"servings\"\n          value={this.props.recipe.servings}\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n        /><br />\n        <textarea\n          cols=\"60\"\n          name=\"description\"\n          value={this.props.recipe.description}\n          placeholder=\"Brief Description\"\n          onChange={event => this.props.handleOnChangeForRecipeDetails(event, this.props.recipe.id)}\n        /><br />\n        <input type=\"submit\" value=\"Update Recipe Details\" /><br />\n      </form>\n      </>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class IngredientsTable extends Component {\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          <tr>\n            <th>Ingredient</th>\n            <th>Quantity</th>\n            <th>Serving Unit</th>\n            <th>Calories</th>\n            <th>Carbs(g)</th>\n            <th>Protein(g)</th>\n            <th>Sugars(g)</th>\n          </tr>\n          {this.props.ingredients.map((ingredient, index) => {\n            return (\n              <tr key={index}>\n                <td>{ingredient.food_name}</td>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"serving_qty\"\n                    value={ingredient.serving_qty}\n                    onChange={e=>this.props.handleOnChangeForIngredients(e, index, this.props.recipeID)}\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"serving_unit\"\n                    value={ingredient.serving_unit}\n                    onChange={e=>this.props.handleOnChangeForIngredients(e, index, this.props.recipeID)}\n                  />\n                </td>\n                <td>{Math.floor(ingredient.calories)}</td>\n                <td>{ingredient.total_carbohydrate}</td>\n                <td>{ingredient.protein}</td>\n                <td>{ingredient.sugars}</td>\n                <td><button onClick={e => this.props.updateIngredient(e, this.props.recipeID, ingredient.food_name, ingredient, index) }>Update</button></td>\n                <td><button onClick={e => this.props.deleteIngredient(e, this.props.recipeID, ingredient) }>Delete</button></td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class AddIngredientsForm extends Component {\n  constructor() {\n    super()\n    this.state={\n      rawIngredients: ''\n    }\n  }\n\n  handleOnChange = e => {\n    this.setState({\n      rawIngredients: e.target.value\n    })\n  }\n\n  render() {\n    return (\n       <form onSubmit={e => this.props.fetchAndPostIngredients(e, this.state.rawIngredients, this.props.recipe) }>\n        <textarea\n          rows=\"10\"\n          cols=\"60\"\n          name=\"rawIngredients\"\n          value={this.props.rawIngredients}\n          placeholder=\"Add Ingredients\"\n          onChange={e => this.handleOnChange(e)}\n          /><br />\n        <input type=\"submit\" value=\"Save Ingredients\" />\n        <button onClick={()=>this.props.addIngredientsToggler()}>Hide Form</button>\n      </form>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport * as actions from '../actions/RecipeActions'\n\nimport IngredientsTable from '../components/Tables/IngredientsTable'\nimport NutritionalTable from '../components/Tables/NutritionalTable'\nimport RecipeDetails from '../components/RecipeComponents/RecipeDetails'\nimport EditRecipeDetails from '../components/RecipeComponents/EditRecipeDetails'\nimport EditIngredients from '../components/Tables/EditIngredients'\nimport AddIngredientsForm from '../components/IngredientComponents/AddIngredientsForm'\n\nclass Recipe extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      ingredientsTableToggled: false,\n      nutritionalTableToggled: true,\n      servingTableToggled: false,\n      editIngredientsToggled: false,\n      addIngredientsToggled: false,\n      editRecipeDetails: false,\n    }\n  }\n\n  tableToggler = tableType => {\n    switch(tableType) {\n      case 'recipe':\n        return (\n          this.setState({\n            ingredientsTableToggled: false,\n            nutritionalTableToggled: true,\n            servingTableToggled: false,\n            editIngredientsToggled: false\n          })\n        )\n      case 'serving':\n        return (\n          this.setState({\n            ingredientsTableToggled: false,\n            nutritionalTableToggled: false,\n            servingTableToggled: true,\n            editIngredientsToggled: false\n          })\n        )\n      case 'ingredient':\n        return (\n          this.setState({\n            ingredientsTableToggled: true,\n            nutritionalTableToggled: false,\n            servingTableToggled: false,\n            editIngredientsToggled: false\n          })\n        )\n      case 'edit':\n        return (\n          this.setState({\n            ingredientsTableToggled: false,\n            nutritionalTableToggled: false,\n            servingTableToggled: false,\n            editIngredientsToggled: true\n          })\n        )\n      default:\n        console.log(\"No changes made to state\")\n    }\n  }\n\n  editDetailsToggler = () => {\n    this.setState({\n      ...this.state,\n        editRecipeDetails: this.state.editRecipeDetails ? false : true\n    })\n  }\n\n  addIngredientsToggler = () => {\n    this.setState({\n      addIngredientsToggled: (this.state.addIngredientsToggled) ? false : true\n    })\n  }\n\n  renderTable = () => {\n    if (this.state.nutritionalTableToggled) {\n      return <NutritionalTable recipe={this.props.recipe} />\n    }\n    if (this.state.ingredientsTableToggled) {\n      return <IngredientsTable recipe={this.props.recipe}/>\n    }\n    if (this.state.servingTableToggled) {\n      return <NutritionalTable recipe={this.props.recipe} serving=\"true\" />\n    }\n    if (this.state.editIngredientsToggled) {\n      return (\n        <>\n          <EditIngredients\n            handleOnChangeForIngredients={this.props.handleOnChangeForIngredients}\n            updateIngredient={this.props.updateIngredient}\n            deleteIngredient={this.props.deleteIngredient}\n            ingredients={this.props.recipe.ingredients}\n            recipeID={this.props.recipe.id}\n          />\n          { this.state.addIngredientsToggled\n            ? <AddIngredientsForm\n                addIngredientsToggler={this.addIngredientsToggler}\n                fetchAndPostIngredients={this.props.fetchAndPostIngredients}\n                recipe={this.props.recipe}\n              />\n            : <button onClick={()=>this.addIngredientsToggler()}>Add Ingredients</button>\n          }\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"full-recipe-card\">\n          { this.state.editRecipeDetails\n             ? <EditRecipeDetails\n                  recipe={this.props.recipe}\n                  editDetailsToggler={this.editDetailsToggler}\n                  editRecipeDetails={this.state.editRecipeDetails}\n                  handleOnChangeForRecipeDetails={this.props.handleOnChangeForRecipeDetails}\n                  updateRecipeDetails={this.props.updateRecipeDetails}\n                />\n             : <RecipeDetails recipe={this.props.recipe} username={this.props.username} editDetailsToggler={this.editDetailsToggler}/>\n          }\n        </div>\n        <div className=\"ingredients-table\">\n          <h1>Nutritional Data</h1>\n            <span className=\"fake-link\" onClick={()=>this.tableToggler('recipe')}>By Recipe</span> |\n            <span className=\"fake-link\" onClick={()=>this.tableToggler('serving')}> By Serving</span> |\n            <span className=\"fake-link\" onClick={()=>this.tableToggler('ingredient')}> By Ingredient</span>\n            { this.props.username === this.props.recipe.creator_name\n              ? <span className=\"fake-link\" onClick={()=>this.tableToggler('edit')}> | Edit</span>\n              : <></>\n            }\n            { this.renderTable() }\n          </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    username: state.user.username,\n    formatRecipeURL: state.formatRecipeURL,\n    // below compares lowercased recipe title from state to current, reformatted slug \n    recipe: state.recipes.find(recipe => recipe.title.toLowerCase() === ownProps.location.pathname.split(\"/\")[2].split(\"-\").join(\" \"))\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleOnChangeForRecipeDetails: bindActionCreators(actions.handleOnChangeForRecipeDetails, dispatch),\n    updateRecipeDetails: bindActionCreators(actions.updateRecipeDetails, dispatch),\n    handleOnChangeForIngredients: bindActionCreators(actions.handleOnChangeForIngredients, dispatch),\n    updateIngredient: bindActionCreators(actions.updateIngredient, dispatch),\n    fetchAndPostIngredients: bindActionCreators(actions.fetchAndPostIngredients, dispatch),\n    deleteIngredient: bindActionCreators(actions.deleteIngredient, dispatch)\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Recipe))\n","import React, { Component } from 'react'\n\nexport default class GenericNotFound extends Component {\n  render() {\n    return (\n      <>\n        <h1>Something went wrong.</h1>\n        <img src=\"https://media.giphy.com/media/7QZ0XOOuTaMdW/giphy.gif\" alt=\"facepalm\" />\n      </>\n    )\n  }\n}\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport Auth from './modules/Auth'\n\nimport Recipes from './containers/Recipes'\nimport NewRecipe from './containers/NewRecipe'\nimport Recipe from './containers/Recipe'\nimport GenericNotFound from './components/Misc/GenericNotFound'\n\nexport default (\n    <Switch id='routes'>\n      <Route exact path='/' render={ () => <Recipes/> }/>\n      {/* below route is unused...keeping because I'll prob use it eventually */}\n      <Route exact path='/recipes' component={ () =>  <Recipes/> }/>\n      <Route exact path='/my-recipes' component={ () =>  Auth.isUserAuthenticated() ? <Recipes user=\"true\"/> : <Redirect to=\"/login\"/> }/>\n      <Route exact path='/recipes/new' component={ () =>  Auth.isUserAuthenticated() ? <NewRecipe/> : <Redirect to=\"/login\"/> }/>\n      <Route exact path='/recipes/:recipeName' component={ () => <Recipe/> }/>\n      <Route path='*' component={() => <GenericNotFound />} />\n    </Switch>\n)\n","import Auth from '../modules/Auth'\n\nexport function fetchUserData() {\n  return (dispatch) => {\n    dispatch({ type: 'LOADING_USER_DATA'})\n    fetch('https://my-recipe-box-project.herokuapp.com/profile', {\n      method: 'GET',\n      headers: {\n        token: Auth.getToken(),\n        'authorization':  `Token ${Auth.getToken()}`\n      }\n    }).then( res => res.json())\n    .then( resJSON => {\n      dispatch({ type: 'LOAD_USER_DATA', payload: resJSON })\n    }).catch( err => console.log(err))\n  }\n}\n\nexport function logoutUser() {\n  return (dispatch) => {\n    fetch('https://my-recipe-box-project.herokuapp.com/logout', {\n      method: 'DELETE',\n      headers: {\n        token: Auth.getToken(),\n        'Authorization': `Token ${Auth.getToken()}`\n      }\n    }).then( res => {\n      Auth.deauthenticateToken()\n      dispatch({ type: 'LOGOUT_USER' })\n    }).catch( err => console.log(err))\n  }\n}\n","import React, { Component } from 'react';\nimport Auth from '../../modules/Auth';\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport * as actions from '../../actions/UserActions';\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {\n        username: '',\n        password: ''\n      },\n      errors: false\n    }\n  }\n\n  handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      ...this.state,\n      user: {\n        ...this.state.user,\n        [name]: value,\n      }\n    });\n  }\n\n  handleLoginSubmit = (e, data) => {\n    e.preventDefault();\n    return fetch('https://cors-anywhere.herokuapp.com/https://my-recipe-box-project.herokuapp.com/login', {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n      })\n      .then(res => res.json())\n      .then(res => {\n        Auth.authenticateToken(res.token)\n        if (Auth.isUserAuthenticated()) {\n          this.props.fetchUserData();\n          this.props.history.push('/')\n        }\n        else {\n          this.setState({\n            ...this.state,\n              errors: true\n          })\n        }\n      }).catch(err => {console.log(err)})\n  }\n\n  render() {\n    return (\n      <div className=\"login-form\">\n        <form onSubmit={ (e) => this.handleLoginSubmit(e, this.state.user) }>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            value={this.state.user.username}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            value={this.state.user.password}\n            onChange={this.handleChange}\n          />\n          <input type=\"submit\" value=\"Login\"/>\n        </form>\n        { this.state.errors\n          ? <div className=\"errors\">\n              There was a problem logging you in.  Please try again.\n            </div>\n          : <></>\n        }\n      </div>\n\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserData: bindActionCreators(actions.fetchUserData, dispatch)\n  }\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(LoginForm))\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as actions from '../../actions/UserActions'\nimport Auth from '../../modules/Auth'\n\nclass SignupForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: {\n        username: '',\n        password: '',\n        email: ''\n      },\n      errors: false\n    }\n  }\n\n  handleChange = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      ...this.state,\n        user: {\n          ...this.state.user,\n          [name]: value,\n        }\n    });\n  }\n\n  handleSignUpSubmit = (e) => {\n    e.preventDefault();\n    return fetch('https://cors-anywhere.herokuapp.com/https://my-recipe-box-project.herokuapp.com/users', {\n      method: 'POST',\n      body: JSON.stringify({\n        user: this.state.user\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n      })\n      .then(res => res.json())\n      .then(res => {\n        Auth.authenticateToken(res.token)\n        if (Auth.isUserAuthenticated()) {\n          this.props.fetchUserData();\n          this.props.history.push('/')\n        }\n        else {\n          this.setState({\n            ...this.state,\n              errors: true\n          })\n        }\n      }).catch(err => console.log(err))\n  }\n\n  render() {\n    return (\n      <div className=\"signup-form\">\n        <form onSubmit={ (e) => { this.handleSignUpSubmit(e) } }>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            value={this.state.user.username}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"email\"\n            value={this.state.user.email}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            value={this.state.user.password}\n            onChange={this.handleChange}\n          />\n          <input type=\"submit\" value=\"Register!\"/>\n        </form>\n        { this.state.errors\n          ? <div className=\"errors\">\n              There was a problem creating your account.  Please ensure that all forms are filled.\n            </div>\n          : <></>\n        }\n      </div>\n\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserData: bindActionCreators(actions.fetchUserData, dispatch)\n  }\n}\n\n\n\nexport default withRouter(connect(null, mapDispatchToProps)(SignupForm))\n","import React, { Component } from 'react'\n\nexport default class Welcome extends Component {\n\n  render() {\n    return (\n      <div className=\"welcome\">\n        <h1>Recipe box is a nutritional tracker for home cooks who love to experiment in the kitchen</h1>\n      </div>\n    )\n  }\n\n}\n","import React, { Component } from 'react';\nimport './App.css'\nimport Auth from './modules/Auth'\nimport routes from './routes'\nimport { withRouter, Link } from 'react-router-dom'\n\nimport LoginForm from './components/UserForms/LoginForm'\nimport SignUpForm from './components/UserForms/SignUpForm'\nimport Welcome from './components/Misc/Welcome'\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state={\n      loginToggled: false,\n      signupToggled: false,\n      firstView: true\n    }\n  }\n\n  handleLogout = e => {\n    e.preventDefault();\n    this.toggleLogin(); // toggles state.login to false; otherwise login form would be visible on redirect to home\n    Auth.deauthenticateToken();\n    this.props.history.push('/');\n  }\n\n  // opens/closes signup form\n  toggleSignup = () => {\n    this.setState({\n      loginToggled: false,\n      signupToggled: this.state.signupToggled ? false : true\n    })\n  }\n\n  //opens/closes login form\n  toggleLogin = () => {\n    this.setState({\n      loginToggled: this.state.loginToggled ? false : true,\n      signupToggled: false\n    })\n  }\n\n  // renders login or signup forms depending on whether loginToggled/signupToggled = true || false\n  renderForms = () => {\n    if (this.state.loginToggled) {\n      return <LoginForm />\n    }\n    if (this.state.signupToggled) {\n      return <SignUpForm />\n    }\n  }\n\n  // displays links for logged in user\n  renderPrivateNavBar = () => {\n    return (\n        <div className=\"nav-bar\">\n          <Link to=\"/\">Home</Link>\n          <Link to=\"/my-recipes\">My Recipes</Link>\n          <Link to=\"/recipes/new\">Add a Recipe</Link>\n          <a href=\"/logout\" onClick={e => this.handleLogout(e)}>Logout</a>\n        </div>\n    )\n  }\n\n  //displays links to unregistered/not logged in users\n  renderPublicNavBar = () => {\n    return (\n      <div className=\"nav-bar\">\n        <Link to=\"/\">Home</Link>\n        <Link to={this.props.history} onClick={()=>this.toggleSignup()}>Sign Up</Link>\n        <Link to={this.props.history} onClick={()=>this.toggleLogin()}>Log In</Link>\n      </div>\n    )\n  }\n\n  componentDidUpdate() {\n    // hides welcome component from view after first page view\n    if (this.state.firstView) {\n      this.setState({\n        firstView: false\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"navigation\">\n          <div id=\"mainLogo\">\n            <h1>Recipe Box</h1>\n          </div>\n          {\n            // determines which navbar to display\n            (Auth.isUserAuthenticated())\n            ? this.renderPrivateNavBar()\n            : this.renderPublicNavBar()\n          }\n          {\n            // displays login/signup forms if user isn't logged in\n            (!Auth.isUserAuthenticated())\n             ? this.renderForms()\n             : <></>\n          }\n        </div>\n        {\n          // renders welcome component only on first user view\n          (!Auth.isUserAuthenticated() && this.state.firstView)\n          ? <Welcome />\n          : <></>\n        }\n        <>{ routes }</>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport { HashRouter } from 'react-router-dom'\nimport PrelimReducer from './reducers/PrelimReducer'\nimport './index.css';\nimport App from './App';\n\nconst store = createStore(PrelimReducer,\n  compose(\n    applyMiddleware(thunk),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'));\n","import Auth from '../modules/Auth'\n\nexport default function prelimReducer(state={\n  user: {\n    id: null,\n    username: '',\n    email: '', // unnecessary?\n    recipes: [], // unnecessary?\n    auth: Auth.isUserAuthenticated(),\n    isLoaded: false // unnecessary?\n    },\n  recipes: [],\n  // adds up total nutritional data for a given dataPoint (ie, calories) and array of ingredients\n  sumNutritionalDataFor: (ingredients, dataPoint) => Math.round(ingredients.map(i => i[dataPoint]).reduce((a,b)=>a+b,0)),\n  // replaces spaces with dashes in recipe titles\n  formatRecipeURL:  recipe => { return recipe.toLowerCase().replace(/\\s/g , \"-\" ) }\n}, action) {\n\n  switch(action.type) {\n\n      case 'LOGOUT_USER':\n        return {\n            user: {\n              ...state.user,\n              auth: Auth.isUserAuthenticated()\n            }\n        }\n\n      case 'LOADING_USER_DATA':\n        return {\n          ...state,\n            user: {\n              ...state.user,\n              isLoaded: true,\n              auth: true\n            }\n        }\n\n      case 'LOAD_USER_DATA':\n        if (state.user.isLoaded) {\n          return {\n            ...state,\n              user: {\n                ...state.user,\n                id: action.payload.id,\n                email: action.payload.email,\n                username: action.payload.username,\n                recipes: action.payload.recipes || []\n              }\n          }\n        }else {\n          console.log(\"Still Loading\")\n          break\n        }\n\n      case 'LOAD_RECIPES':\n        return {\n          ...state,\n            recipes: action.payload\n        }\n\n      case 'ADD_RECIPE':\n        return {\n          ...state,\n              recipes: [...state.recipes.concat(action.payload)]\n        }\n\n      case 'ADD_NEW_INGREDIENTS_TO_RECIPE':\n        return {\n          ...state,\n            recipes: state.recipes.map(\n              recipe => recipe.id === action.payload.recipeID\n                ? {...recipe, ingredients: recipe.ingredients.concat(action.payload.ingredientsList)}\n                : recipe\n            )\n\n        }\n\n      case 'UPDATE_RECIPE_DETAILS':\n        return {\n          ...state,\n            recipes: state.recipes.map(\n              recipe => recipe.id === action.payload.id\n                ? {...recipe, title: action.payload.title, description: action.payload.description, image_url: action.payload.image_url, servings: action.payload.servings, id: action.payload.id}\n                : recipe\n              )\n        }\n\n      case 'HANDLE_ONCHANGE_FOR_INGREDIENTS':\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeID\n                ? {\n                    ...recipe,\n                      ingredients:\n                        recipe.ingredients.map((ingredient, index) =>\n                          index === action.payload.ingredientIndex\n                            ? {...ingredient, [action.payload.name]: action.payload.value}\n                            : ingredient\n                      )\n                  }\n                : recipe\n            )\n        }\n\n      case 'HANDLE_ONCHANGE_FOR_RECIPE_DETAILS':\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeID\n                ? {\n                    ...recipe,\n                      [action.payload.name]: action.payload.value\n                  }\n                : recipe\n            )\n        }\n\n      case 'UPDATE_INGREDIENT':\n        // let recipeIndex = state.recipes.indexOf(state.recipes.find( recipe => recipe.id === action.payload.recipeID))\n        // state.recipes[recipeIndex].ingredients[action.payload.ingredientIndex] = action.payload.updatedIngredient\n\n        //THIS WORKS BETTER THAN ABOVE, but with more errors -- can only update ingredients once for some reason\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeID\n                ? {...recipe, ingredients: recipe.ingredients.map((ingredient, index) =>\n                    index === action.payload.ingredientIndex ? action.payload.updatedIngredient : ingredient\n                )}\n                : recipe\n            )\n        }\n\n      case 'DELETE_INGREDIENT':\n        return {\n          ...state,\n            recipes: state.recipes.map(recipe =>\n              recipe.id === action.payload.recipeId\n                ? {...recipe, ingredients: recipe.ingredients.filter(ingredient => ingredient !== action.payload.ingredient)}\n                : recipe\n              )\n        }\n\n    default:\n      return state\n  }\n}\n"],"sourceRoot":""}